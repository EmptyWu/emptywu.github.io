---
layout: post
title: Day12-設計基本路由
tags: [Express,Node.js,javascript]
author: EmptyWu
date: 2022-05-07 01:42:34
category: Node.js
description: 延續前一天的每日任務，我們設定當造訪根目錄 '/'時，會回傳 Hello World，接著可以此類推，設定當造訪其他頁面的路由（router）
---

## 前言
延續，我們設定當造訪根目錄 '/'時，會回傳 Hello World，接著可以此類推，設定當造訪其他頁面的路由（router）
<!--more-->
Express 定義路由的結構如下
```javascript
app.METHOD(PATH, HANDLER)
```

-   `app` 是 `express` 的實例。
-   `METHOD` 是 [HTTP 要求方法](http://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol)。
-   `PATH` 是伺服器上的路徑。
-   `HANDLER` 是當路由相符時要執行的函數。

以[最終作業設計稿](https://xd.adobe.com/view/c0763dbe-fc15-42e8-be0b-8956ed03e675-9525/grid)為例，當造訪「全體動態牆」頁面時，路由可以設定為
```javascript
app.get('/posts', (req, res) => {
  res.send('全體動態牆')
})
```
新增貼文（POST 請求）
```javascript
app.post('/posts', (req, res) => {
  res.send('新增一則貼文')
})
```
若是使用者的個人頁面，因每個使用者會有各自的 id 或帳號，此時就可以設計成動態路由
再透過 `req.params` 取得參數
```javascript
app.get('/user/:id', (req, res) => {
  const id = req.params.id
  res.send(`${id} 個人頁面`)
})
```
### 參考資源

[Express 基本路由](https://expressjs.com/zh-tw/starter/basic-routing.html)

[網址規則介紹](https://courses.hexschool.com/courses/1670869/lectures/39299599) 到 [query - 取得網址參數](https://courses.hexschool.com/courses/1670869/lectures/39299606)（章節影片）

## 練習
設計當使用者造訪以下頁面（`GET`）時的路由， response 可先回傳一段簡單的文字即可
- 登入
```javascript
app.get('/login', (req, res) => {
  res.send('歡迎來到登入頁')
})
```
- 註冊
```javascript
app.get('/signin', (req, res) => {
  res.send('歡迎來到註冊頁')
})
```
- 全體動態牆
```javascript
app.get('/posts', (req, res) => {
  res.send('歡迎來到全體動態牆')
})
```
- 個人牆
```javascript
app.get('/user/:id', (req, res) => {
  const id = req.params.id;
  res.send(`歡迎來到 ${id} 個人牆`)
})
```
- 個人追蹤名單
```javascript
app.get('/user/:id/follow', (req, res) => {
  const id = req.params.id;
  res.send(`歡迎來到 ${id} 個人追蹤名單`)
})
```


以上見解，如有錯誤地方還請留言告知，感謝。