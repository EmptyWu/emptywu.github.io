---
layout: post
title: Day07-每日JS任務-if 流程判斷 III
tags: [JavaScript]
author: EmptyWu
date: 2022-05-10 22:59:47
category: JavaScript
description:
---

### 練習

### 題目一：有沒有打折
某廠商大甩賣，折扣表如下：

* 未滿 2000 無折扣
* 2000~2999 9折
* 3000~3999 8折
* 高於 4000 7折

```JavaScript
function sale(num){
    return num<2000?num:
    (num>=2000 && num <3000)?Math.round(num*0.9):
    (num>=3000 && num <4000)?Math.round(num*0.8):
    (num>=4000)?Math.round(num*0.7):num;
}
// input 輸入
sale(5000)
sale(2500)
sale(3300)
sale(200)
// output 輸出
3500
2250
2640
200
```
<!--more-->
### 題目二：西元轉民國
**台灣/建立時間：1912 年 1 月 1 日**
```JavaScript
function CEtoChinese(num){
    return num<1911?`尚未建國`:`民國${num-1911}年`;
}
// input 輸入
CEtoChinese(1977)
CEtoChinese(2022)
CEtoChinese(1666)

// output 輸出
"民國66年"
"民國111年"
"尚未建國"
```

### 題目三：年薪計算機
以下是梅添良軟體公司的計薪方式
* 每個月固定支薪，不幫員工保勞健保
* 三節沒禮金，也沒任何獎金
* 只有月薪、年終
#### 年終計算
* 未滿一年，不會有年終
* 待超過一年的員工，年終會有 1 個月
* 待超過五年的員工，年終會有 1.3 個月
```JavaScript
function annualSalary(m,y){
    return y<1?m*12:
    (y>=1&&y<5)?m*13:
    (y>=5)?m*13.3:m;
}
// input 輸入 
// annualSalary(月薪,年資)
annualSalary(10000,0.8)
annualSalary(12000,1.5)
annualSalary(20000,10)
// output 輸出
"120000"
"156000"
"266000"
```

## 魔王題，請不要輕易接觸，會花上 8hr 時間
### 梅添良薪水數字大小寫轉換
* 老闆開發票時，很不擅長數字小寫轉大寫，請幫助他這個金魚腦
```JavaScript
"use strict";
function changeCapital(num){
    if(typeof(num)==='string' || num <0){
        return '格式錯誤';
    }else {
        let str='';
        const dw2 = new Array("","萬","億");
        const dw1 = new Array("拾","佰","千");
        const chinesestr=new Array("","壹","貳","叄","肆","伍","陸","柒","捌","玖");
        //數字長度
        const numlength=num.toString().length;
        const k1=0;//計小單位
        const k2=0;//計大單位
        for(let i=1;i<=numlength;i++)
        {
            var n = num.toString().charAt(numlength-i);
            if(n=="0")
            {
                if(k1!=0)
                    str = str.substr(1,str.length-1);
                
                if(str.substr(0,1)!="零" && str.substr(0,1)!="萬" && str.substr(0,1)!="億")
                {
                    str="零"+str;
                }
            }
            str = chinesestr[Number(n)].concat(str);//加數字
                
            if(numlength-i-1>=0)//在數字範圍內
            {
                if(k1!=3)//加小單位
                {
                    str = dw1[k1].concat(str);
                    k1++;
                }
                else//不加小單位,加大單位
                {
                    k1=0;
                    var temp = str.charAt(0);
                    if(temp=="萬" || temp=="億")//若大單位前沒有數字則捨去大單位
                        str = str.substr( 1, str.length-1);
                    str = dw2[k2].concat(str);
                }
            }
            
            if(k1==3)//小單位到千則大單位進一
            {
                k2++;
            }
        }
        if(str.substr(str.length-1,str.length)=="零")
        {
            str=str.substr(0,str.length-1);
        }
        return  str+"元整";
    }
}

// input 輸入
console.log(changeCapital(35000))
changeCapital(9876543210)
changeCapital(-33)
changeCapital("安安")
changeCapital(033)
// output 輸出
"參萬伍仟元整"
"玖拾捌億柒仟陸佰伍拾肆萬參仟貳佰壹拾元整"
"格式錯誤"
"格式錯誤"
"參拾參元整"
```

:::spoiler 提示
http://tax.0123456789.tw/
:::




以上見解，如有錯誤地方還請留言告知，感謝。